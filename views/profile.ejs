<title>Profile</title>
<link rel="stylesheet" href="/static/stylesheets/activities.css" />
<div class="background-container">
    <div class="feed-container">
        <div class="main-container">
            <div class="header flex">
                <a href="/activities"><img class="resized-logo" src="/static/img-activity/logo.png" /></a>
                <a class="nav" href="/trainers">Trainers</a>
                <a class="nav page-now" href="/activities">Activities</a>
                <img class="profile-pic" src="<%= user.profile.url %>" alt="" />
            </div>
            <hr class="orange-line" />
        </div>

        <div class="second-container flex">
            <a href=""><h3>Edit profile</h3></a>
            <button class="btn4" onclick="toggleReviews()"><h3 class="h3-tags">See your reviews</h3></button>
            <button class="btn4" onclick="toggleActivities()"><h3 class="h3-tags">See your activities</h3></button>
            <a href="/users/logout"><h3 class="h3-tags">Logout</h3></a>
        </div>

        <div id="reviews" style="visibility:hidden">
            <% if (reviews.length === 0) { %>
                <p>You haven't posted any reviews yet!</p>
            <% } else { %>
                <% reviews.forEach((review) => { %>
                    <hr class="orange-line" />
                    <div class="profile flex padding">
                        <div class="trainer-pic" style="background-image: url('<%= review.authorImg %>')"></div>
                        <div class="user-review">
                            <p><%= review.authorName %></p>
                            <p class="grey-text"><%= review.description %></p>
                            <div class="flex">
                                <h2 class="average-rating"><%= review.rating %></h2>
                                <img src="/static/img-activity/star.png" alt="" class="star"/>
                            </div>
                            <p class="grey-text"><%= review.time %></p>
                        </div>
                    </div>
                <% }) %>
            <% } %>
        </div>
        
        <div id="activities" style="visibility:hidden">
            <% if (activities.length === 0) { %>
                <p>You haven't posted any activities yet!</p>
            <% } else { %>
                <% activities.reverse().forEach((activity) => { %>
                    <a href="/ActivityAbout?<%= activity.activityId %>">
                    <div class="trainer-profile">
                        <hr class="orange-line" />
                        <div class="activities-infos flex">
                        <div
                            class="trainer-pic"
                            style="background-image: url('<%= activity.authorImg %>')"
                        ></div>
                        <div class="activity-name">
                            <h4><%= activity.activityName %></h4>
                            <p class="grey-text">Shared by - <%= activity.authorName %></p>
                            <p class="grey-text"><%= activity.time %></p>
                        </div>
                        </div>
                        <div class="activity-description flex"><%= activity.description %></div>
                        <div class="location-text flex">
                        <img
                            src="/static/img-activity/location-icon.png"
                            alt=""
                            class="location location-img"
                        />
                        <p><%= activity.location %></p>
                        </div>
                        <div class="dog-pic">
                        <img src="/static/img-activity/parc.jpg" alt="" class="dog-pic" />
                        </div>
                        <div class="reviews flex">
                        <h2 class="average-rating"><%= activity.rating %></h2>
                        <div class="starDiv">
                            <span class="fa fa-star 1"></span>
                            <span class="fa fa-star 2"></span>
                            <span class="fa fa-star 3"></span>
                            <span class="fa fa-star 4"></span>
                            <span class="fa fa-star 5"></span>
                        </div>
                        <h2>(<%= activity.reviews %>)</h2>
                        </div>
                    </div>
                    </a>
                <% })%>
            <% } %>
        </div>
    </div>
</div>

<script type="text/javascript">
    function toggleActivities() {
        var activities = document.getElementById("activities");
        console.log(activities.style.visibility);
        if (activities.style.visibility === "hidden"){
            activities.style.visibility = "visible"
        } else {
            activities.style.visibility = "hidden";
        }
    }
    function toggleReviews() {
        var reviews = document.getElementById("reviews");
        console.log(reviews.style.visibility);
        if (reviews.style.visibility === "hidden"){
            reviews.style.visibility = "visible"
        } else {
            reviews.style.visibility = "hidden";
        }
    }
</script>